@use '../01-settings/settings.block' as settings;
@use '../01-settings/settings.config' as *;
@use '../02-tools/tools.breakpoints' as *;
@use '../01-settings/settings.design-tokens' as *;

// Block Objects Styles
// Provides flexible section layout with customizable spacing and backgrounds

.o-block {
  // CSS Custom Properties
  --#{$prefix}block-spacing-xs: #{settings.$block-spacing-xs};
  --#{$prefix}block-spacing-sm: #{settings.$block-spacing-sm};
  --#{$prefix}block-spacing-md: #{settings.$block-spacing-md};
  --#{$prefix}block-spacing-lg: #{settings.$block-spacing-lg};
  --#{$prefix}block-spacing-xl: #{settings.$block-spacing-xl};

  // Base styles
  position: relative;
  width: 100%;

  // Spacing variants
  &--xs {
    padding-top: var(--#{$prefix}block-spacing-xs);
    padding-bottom: var(--#{$prefix}block-spacing-xs);
  }

  &--sm {
    padding-top: var(--#{$prefix}block-spacing-sm);
    padding-bottom: var(--#{$prefix}block-spacing-sm);
  }

  &--md {
    padding-top: var(--#{$prefix}block-spacing-md);
    padding-bottom: var(--#{$prefix}block-spacing-md);
  }

  &--lg {
    padding-top: var(--#{$prefix}block-spacing-lg);
    padding-bottom: var(--#{$prefix}block-spacing-lg);
  }

  &--xl {
    padding-top: var(--#{$prefix}block-spacing-xl);
    padding-bottom: var(--#{$prefix}block-spacing-xl);
  }

  &--no-spacing {
    padding-top: 0;
    padding-bottom: 0;
  }

  // Full-width variant
  &--full-width {
    // Removes container constraints for edge-to-edge content
    .o-container {
      max-width: none;
      padding-left: 0;
      padding-right: 0;
    }
  }

  @each $name, $value in $theme-colors-bg-subtle {
    &--#{$name} {
      background-color: var(--#{$prefix}#{$name}-bg-subtle);
    }
  }

  // Responsive adjustments
  @include media-breakpoint-down('md') {
    &--spacing-xs {
      padding-top: calc(var(--#{$prefix}block-spacing-xs) * 0.75);
      padding-bottom: calc(var(--#{$prefix}block-spacing-xs) * 0.75);
    }

    &--spacing-sm {
      padding-top: calc(var(--#{$prefix}block-spacing-sm) * 0.75);
      padding-bottom: calc(var(--#{$prefix}block-spacing-sm) * 0.75);
    }

    &--spacing-md {
      padding-top: calc(var(--#{$prefix}block-spacing-md) * 0.75);
      padding-bottom: calc(var(--#{$prefix}block-spacing-md) * 0.75);
    }

    &--spacing-lg {
      padding-top: calc(var(--#{$prefix}block-spacing-lg) * 0.75);
      padding-bottom: calc(var(--#{$prefix}block-spacing-lg) * 0.75);
    }

    &--spacing-xl {
      padding-top: calc(var(--#{$prefix}block-spacing-xl) * 0.75);
      padding-bottom: calc(var(--#{$prefix}block-spacing-xl) * 0.75);
    }
  }

  @include media-breakpoint-down('sm') {
    &--spacing-xs {
      padding-top: calc(var(--#{$prefix}block-spacing-xs) * 0.5);
      padding-bottom: calc(var(--#{$prefix}block-spacing-xs) * 0.5);
    }

    &--spacing-sm {
      padding-top: calc(var(--#{$prefix}block-spacing-sm) * 0.5);
      padding-bottom: calc(var(--#{$prefix}block-spacing-sm) * 0.5);
    }

    &--spacing-md {
      padding-top: calc(var(--#{$prefix}block-spacing-md) * 0.5);
      padding-bottom: calc(var(--#{$prefix}block-spacing-md) * 0.5);
    }

    &--spacing-lg {
      padding-top: calc(var(--#{$prefix}block-spacing-lg) * 0.5);
      padding-bottom: calc(var(--#{$prefix}block-spacing-lg) * 0.5);
    }

    &--spacing-xl {
      padding-top: calc(var(--#{$prefix}block-spacing-xl) * 0.5);
      padding-bottom: calc(var(--#{$prefix}block-spacing-xl) * 0.5);
    }
  }
}
